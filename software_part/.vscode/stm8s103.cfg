# SPDX-License-Identifier: GPL-2.0-or-later

#config script for STM8S103

set FLASHEND 0x9FFF
set EEPROMEND 0x427F
set OPTIONEND 0x480A
set BLOCKSIZE 0x40

proc stm8_reset_rop {} {
   mwb 0x4800 0x00
   reset halt
}

# Підключаємо базовий конфіг (він створює target stm8s.cpu)
source [find target/stm8s.cfg]

# !!! ДОДАНО: Визначаємо Flash пам'ять !!!
# 0x8000 - старт, 0x2000 - розмір (8 КБ для STM8S103F3)
flash bank stm8s.flash stm8 0x8000 0x2000 1 1 stm8s.cpu